{"remainingRequest":"/Users/wangjian/Desktop/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!/Users/wangjian/Desktop/Desktop/hht/hht-app-master/src/views/Home/Index.vue?vue&type=style&index=0&id=d5e59f88&lang=less&scoped=true&","dependencies":[{"path":"/Users/wangjian/Desktop/Desktop/hht/hht-app-master/src/views/Home/Index.vue","mtime":1588061463671},{"path":"/Users/wangjian/Desktop/Desktop/hht/hht-app-master/node_modules/_css-loader@1.0.1@css-loader/index.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/Desktop/hht/hht-app-master/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/Desktop/hht/hht-app-master/node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '../../assets/css/member.less';\n",{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmUA","file":"Index.vue","sourceRoot":"src/views/Home","sourcesContent":["<template>\n\t<div class=\"app\">\n\t\t<div class=\"loadingding center\" v-show=\"!isLoading\"><van-loading size=\"30px\" color=\"#ff6666\" vertical>加载中...</van-loading></div>\n\t\t<div class=\"content\" v-show=\"isLoading\">\n\t\t\t<div><p @click=\"loca()\">刷新</p></div>\n\t\t\t<div class=\"member-user\">\n\t\t\t\t<!-- <div class=\"member-user-img\"><img src=\"../../assets/image/logo@3x.png\" alt=\"\" /></div> -->\n\t\t\t\t<div class=\"member-user-name\">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{{ setPhone(userInfo.phone) }}\n\t\t\t\t\t\t<img v-if=\"memberInfo.code == 1\" class=\"member-icon\" src=\"../../assets/image/vip_ykt_label@3x.png\" alt=\"\" />\n\t\t\t\t\t\t<img v-else class=\"member-icon\" src=\"../../assets/image/vip_wkt_label@3x.png\" alt=\"\" />\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>{{ memberInfo.code == 1 ? '会员有效期至:' + memberInfo.data.validityEnd : '未开通会员' }}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"member-pay\" v-if=\"memberInfo.code == 0\">\n\t\t\t\t<div class=\"member-header\">\n\t\t\t\t\t<p>VIP会员权益包</p>\n\t\t\t\t\t<p @click=\"setRouter('membership', true)\">\n\t\t\t\t\t\t兑换会员\n\t\t\t\t\t\t<van-icon name=\"arrow\" />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"card-list\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"member-pay-list\"\n\t\t\t\t\t\t:class=\"cardIndex == index ? 'cardAction' : ''\"\n\t\t\t\t\t\tv-for=\"(item, index) in cardList\"\n\t\t\t\t\t\t:key=\"item.id\"\n\t\t\t\t\t\t@click=\"cardClick(index, item.buyLink, item)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<p>{{ item.validityDays }}天</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t¥\n\t\t\t\t\t\t\t<span>{{ item.price }}</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>{{ item.expireTip }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"member-pay-btn\">\n\t\t\t\t\t<div class=\"member-pay-btn-text\" @click=\"cardPayBtn\">\n\t\t\t\t\t\t<p>360元立即开通年卡会员</p>\n\t\t\t\t\t\t<p>赠送火火兔G9S故事机</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"member-introduce\">\n\t\t\t\t<div class=\"member-header\">\n\t\t\t\t\t<p>VIP权益介绍</p>\n\t\t\t\t\t<p @click=\"setRouter('member-equity', true)\">\n\t\t\t\t\t\t查看全部\n\t\t\t\t\t\t<van-icon name=\"arrow\" />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"member-introduce-list\">\n\t\t\t\t\t<div class=\"member-introduce-list-box\" v-for=\"(item, index) in equityList\" v-if=\"index < 5\" :key=\"index\" @click=\"helpClick(index)\">\n\t\t\t\t\t\t<img :src=\"item.pics\" alt=\"\" />\n\t\t\t\t\t\t<p>{{ item.name }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"member-exclusive\" v-if=\"audioList.length != 0\">\n\t\t\t\t<div class=\"member-header\">\n\t\t\t\t\t<p>VIP专享内容</p>\n\t\t\t\t\t<p @click=\"setRouter('more', true)\">\n\t\t\t\t\t\t查看全部\n\t\t\t\t\t\t<van-icon name=\"arrow\" />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"member-exclusive-list\">\n\t\t\t\t\t<div class=\"member-exclusive-list-item\" v-for=\"(item, index) in audioList\" :key=\"index\" @click=\"musicDaile(item.id, item.name)\" v-if=\"index < 3\">\n\t\t\t\t\t\t<div class=\"list-item-img\">\n\t\t\t\t\t\t\t<img :src=\"item.coverImage\" alt=\"\" />\n\t\t\t\t\t\t\t<p class=\"list-item-img-sum\">\n\t\t\t\t\t\t\t\t<img src=\"../../assets/image/home_conner_iconalbum@2x.png\" alt=\"\" />\n\t\t\t\t\t\t\t\t共{{ item.childResCount }}首\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p class=\"van-multi-ellipsis--l2\">{{ item.name }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"member-exclusive\">\n\t\t\t\t<div class=\"member-header\"><p>VIP智慧早教</p></div>\n\t\t\t\t<div class=\"member-early\" @click=\"setRouter('education')\"><img src=\"../../assets/image/vip_giveaway_banner@3x.png\" alt=\"\" /></div>\n\t\t\t</div>\n\t\t\t<div class=\"member-introduce\" v-if=\"activeActivityList.length != 0\">\n\t\t\t\t<div class=\"member-header\">\n\t\t\t\t\t<p>VIP会员活动</p>\n\t\t\t\t\t<p @click=\"setRouter('member-activity')\">\n\t\t\t\t\t\t查看全部\n\t\t\t\t\t\t<van-icon name=\"arrow\" />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"member-activity-list\">\n\t\t\t\t\t<div class=\"member-activity-list-item\" v-for=\"(item, index) in activeActivityList\" @click=\"activityRouter(item.links)\">\n\t\t\t\t\t\t<img :src=\"item.coverImage\" alt=\"\" />\n\t\t\t\t\t\t<p>{{ item.name }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"member-introduce\">\n\t\t\t\t<div class=\"member-header\"><p>VIP专属客服</p></div>\n\t\t\t\t<div class=\"member-service-list\">\n\t\t\t\t\t<div class=\"member-service-list-item\" @click=\"serviceBox()\">\n\t\t\t\t\t\t<img src=\"../../assets/image/boy_customer@3x.png\" alt=\"\" />\n\t\t\t\t\t\t<p>火火兔客服</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"member-introduce member-help-content\">\n\t\t\t\t<div class=\"member-header\">\n\t\t\t\t\t<p>VIP帮助中心</p>\n\t\t\t\t\t<p @click=\"setRouter('member-help', true)\">\n\t\t\t\t\t\t查看全部\n\t\t\t\t\t\t<van-icon name=\"arrow\" />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"member-help-list\">\n\t\t\t\t\t<!-- <p v-for=\"(item, index) in helpList\" :key=\"index\">{{ index + 1 }}.{{ item.name }}</p> -->\n\t\t\t\t\t<van-collapse v-model=\"activeName\" accordion>\n\t\t\t\t\t\t<van-collapse-item v-for=\"(item, index) in activeHelp\" :key=\"index\" :title=\"index + 1 + '.' + item.name\" :name=\"index\">\n\t\t\t\t\t\t\t<div v-html=\"item.content\"></div>\n\t\t\t\t\t\t</van-collapse-item>\n\t\t\t\t\t</van-collapse>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"member-buy\" v-if=\"memberInfo.code == 0 && buyArray.length != 0\">\n\t\t\t\t<div class=\"member-buy-box\">\n\t\t\t\t\t<div class=\"member-buy-left\">\n\t\t\t\t\t\t<p>{{ buyArray.name }}</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span>¥ {{ buyArray.price }}</span>\n\t\t\t\t\t\t\t{{ buyArray.giftName }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"member-buy-right\"><p>立刻开通</p></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapActions, mapMutations, mapState, mapGetters } from 'vuex';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisLoading: false,\n\t\t\tactivityList: [],\n\t\t\thelpList: [],\n\t\t\taudioList: [],\n\t\t\tcardList: [],\n\t\t\tcardIndex: 0,\n\t\t\tbuyLink: null,\n\t\t\tbuyArray: [],\n\t\t\tbuyOneArray: [],\n\t\t\tactiveName: '0',\n\t\t\tmessage: 'dilidilibao'\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState(['equityList', 'system', 'babyInfo', 'memberInfo', 'userInfo']),\n\t\tactiveHelp: function() {\n\t\t\treturn this.helpList.filter(function(item, index) {\n\t\t\t\treturn index < 4;\n\t\t\t});\n\t\t},\n\t\tactiveActivityList: function() {\n\t\t\tvar idx = 0;\n\t\t\treturn this.activityList.filter(function(item, index, array) {\n\t\t\t\tif (item.activityStateStr == '进行中') {\n\t\t\t\t\tidx += 1;\n\t\t\t\t\tif (idx < 3) {\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.getVipAll();\n\t\tconsole.log('11111', this.buyOneArray);\n\t},\n\tmounted() {},\n\tmethods: {\n\t\t// ...mapActions(['setUserInfoAction', 'setEquityAction']),\n\t\tcardClick(index, url, data) {\n\t\t\tthis.cardIndex = index;\n\t\t\tthis.buyLink = url;\n\t\t\tthis.buyArray = data;\n\t\t\tthis.buyOneArray = data;\n\t\t\tthis.$store.dispatch('setEquityAction', this.buyOneArray.id);\n\t\t},\n\t\t//客服\n\t\tserviceBox() {\n\t\t\t// if (this.memberInfo.code == 0) {\n\t\t\t// \tthis.$toast('请先开通会员');\n\t\t\t// \treturn;\n\t\t\t// }\n\t\t\tthis.$dialog\n\t\t\t\t.alert({\n\t\t\t\t\ttitle: '客服',\n\t\t\t\t\tmessage: '添加客服微信：dilidilibao'\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\t// on close\n\t\t\t\t\tthis.$copyText(this.message).then(\n\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\tthis.$toast('微信号复制成功!');\n\t\t\t\t\t\t},\n\t\t\t\t\t\terr => {\n\t\t\t\t\t\t\talert('Can not copy');\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t},\n\t\tactivityRouter(url) {\n\t\t\tlocation.href = url;\n\t\t},\n\t\tsetPhone(tel) {\n\t\t\ttry {\n\t\t\t\treturn tel.replace(tel.substring(3, 7), '****');\n\t\t\t} catch (e) {\n\t\t\t\treturn '火火兔用户';\n\t\t\t\t//TODO handle the exception\n\t\t\t}\n\t\t},\n\t\tloca() {\n\t\t\tlocation.reload();\n\t\t},\n\t\tcardPayBtn() {\n\t\t\tconsole.log('调用支付===========', this.babyInfo);\n\t\t\tif (this.buyLink == null) {\n\t\t\t\tthis.$toast('请选择要开通的会员卡');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$router.push({ name: 'purchase-help', query: { url: this.buyLink } });\n\t\t},\n\t\tsetRouter(val, flag) {\n\t\t\tif (this.memberInfo.code == 0 && !flag) {\n\t\t\t\tthis.$toast('请先开通会员');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$router.push({ name: val });\n\t\t},\n\t\thelpClick(index) {\n\t\t\tthis.$router.push({ name: 'member-equity', query: { id: index } });\n\t\t},\n\t\tgetVipAll() {\n\t\t\tconsole.log('调用接口');\n\t\t\tthis.$axios\n\t\t\t\t.getVipContent(1)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.audioList = res.data.data.list;\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tthis.$axios\n\t\t\t\t.getVipActivity()\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.activityList = res.data.data.list;\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tthis.$axios\n\t\t\t\t.getUserHelp()\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.helpList = res.data.data.list;\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tthis.$axios\n\t\t\t\t.getMemberCard()\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.cardList = res.data.data.list;\n\t\t\t\t\tthis.buyLink = this.cardList[0].buyLink;\n\t\t\t\t\tthis.buyOneArray = this.cardList[0];\n\t\t\t\t\tthis.$store.dispatch('setEquityAction', this.buyOneArray.id);\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tsetTimeout(res => {\n\t\t\t\tthis.isLoading = true;\n\t\t\t}, 300);\n\t\t},\n\t\t//专属内容\n\t\tmusicDaile(id, name) {\n\t\t\ttry {\n\t\t\t\tlet data = {\n\t\t\t\t\ttype: 1,\n\t\t\t\t\tid: id,\n\t\t\t\t\tname: name\n\t\t\t\t};\n\t\t\t\tif (this.system == 'ios') {\n\t\t\t\t\twindow.webkit.messageHandlers.share.postMessage(data);\n\t\t\t\t} else if (this.system == 'android') {\n\t\t\t\t\tconsole.log('专辑详情');\n\t\t\t\t\twindow.android.postMessage('share', JSON.stringify(data));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthis.$toast('请更新新版火火兔APP');\n\t\t\t\t//TODO handle the exception\n\t\t\t}\n\t\t},\n\t\tToText(HTML) {\n\t\t\tvar input = HTML;\n\t\t\treturn input\n\t\t\t\t.replace(/<(style|script|iframe)[^>]*?>[\\s\\S]+?<\\/\\1\\s*>/gi, '')\n\t\t\t\t.replace(/<[^>]+?>/g, '')\n\t\t\t\t.replace(/\\s+/g, ' ')\n\t\t\t\t.replace(/ /g, ' ')\n\t\t\t\t.replace(/>/g, ' ');\n\t\t}\n\t},\n\tcomponents: {},\n\twatch: {\n\t\ta(val, oldVal) {\n\t\t\t//普通的watch监听\n\t\t\tconsole.log('a:===========' + val, oldVal);\n\t\t}\n\t}\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../assets/css/member.less';\n</style>\n"]}]}