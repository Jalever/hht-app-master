{"remainingRequest":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!/Users/wangjian/Desktop/hht/hht-app-master/src/views/Home/Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjian/Desktop/hht/hht-app-master/src/views/Home/Index.vue","mtime":1589763234144},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapActions, mapMutations, mapState, mapGetters } from 'vuex';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisLoading: false,\n\t\t\tactivityList: [],\n\t\t\thelpList: [],\n\t\t\taudioList: [],\n\t\t\tcardList: [],\n\t\t\tcardIndex: 0,\n\t\t\tbuyLink: null,\n\t\t\tbuyArray: [],\n\t\t\tbuyOneArray: [],\n\t\t\tactiveName: '0',\n\t\t\tmessage: 'dilidilibao',\n\t\t\tvipContent: [\n\t\t\t\t{\n\t\t\t\t\tname: '火火兔学古诗',\n\t\t\t\t\turl: 'https://shop40802088.youzan.com/wscvis/knowledge/index?kdt_id=40609920&page=columnshow&alias=1y922shpp6n7k&qr=paidcolumn_1y922shpp6n7k',\n\t\t\t\t\timg: require('../../assets/image/content1.jpg'),\n\t\t\t\t\tsubheading: '19.90'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '火火兔绘本动画馆',\n\t\t\t\t\turl: 'https://shop40802088.youzan.com/wscvis/knowledge/index?kdt_id=40609920&page=columnshow&alias=3emxmywq5qny8&qr=paidcolumn_3emxmywq5qny8',\n\t\t\t\t\timg: require('../../assets/image/content2.jpg'),\n\t\t\t\t\tsubheading: '99.00'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '火火兔世界艺术启蒙',\n\t\t\t\t\turl: 'https://shop40802088.youzan.com/wscvis/knowledge/index?kdt_id=40609920&page=columnshow&alias=2xael59ackx3k&qr=paidcolumn_2xael59ackx3k',\n\t\t\t\t\timg: require('../../assets/image/content3.jpg'),\n\t\t\t\t\tsubheading: '9.90'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '火火兔幼儿思维课堂',\n\t\t\t\t\turl: 'https://shop40802088.youzan.com/wscvis/knowledge/index?kdt_id=40609920&page=columnshow&alias=3et2bnyh42zk0&qr=paidcolumn_3et2bnyh42zk0',\n\t\t\t\t\timg: require('../../assets/image/content4.jpg'),\n\t\t\t\t\tsubheading: '49.90'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState(['equityList', 'system', 'babyInfo', 'memberInfoVip', 'userInfo', 'memberInfoTime']),\n\t\tactiveHelp: function() {\n\t\t\treturn this.helpList.filter(function(item, index) {\n\t\t\t\treturn index < 4;\n\t\t\t});\n\t\t},\n\t\tactiveActivityList: function() {\n\t\t\tvar idx = 0;\n\t\t\treturn this.activityList.filter(function(item, index, array) {\n\t\t\t\tif (item.activityStateStr == '进行中') {\n\t\t\t\t\tidx += 1;\n\t\t\t\t\tif (idx < 3) {\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.getVipAll();\n\t},\n\tmounted() {},\n\tmethods: {\n\t\t// ...mapActions(['setUserInfoAction', 'setEquityAction']),\n\t\tcardClick(index, url, data) {\n\t\t\tthis.cardIndex = index;\n\t\t\tthis.buyLink = url;\n\t\t\tthis.buyArray = data;\n\t\t\tthis.buyOneArray = data;\n\t\t\tthis.$store.dispatch('setEquityAction', this.buyOneArray.id);\n\t\t},\n\t\ttimestampToTime(cjsj) {\n\t\t\tvar date = new Date(cjsj); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n\t\t\tvar Y = date.getFullYear() + '-';\n\t\t\tvar M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n\t\t\tvar D = date.getDate() + ' ';\n\t\t\tvar h = date.getHours() + ':';\n\t\t\tvar m = date.getMinutes() + ':';\n\t\t\tvar s = date.getSeconds();\n\t\t\treturn Y + M + D + h + m + s;\n\t\t},\n\t\tgetUserVip() {\n\t\t\t$axios\n\t\t\t\t.getUserVip()\n\t\t\t\t.then(res => {\n\t\t\t\t\tconsole.log('会员信息', res);\n\t\t\t\t\tcommit(types.SET_MEMBERINFO, res.data.data);\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t},\n\t\t//客服\n\t\tserviceBox() {\n\t\t\tif (this.memberInfoVip == 0) {\n\t\t\t\tthis.$toast('请先开通会员');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$dialog\n\t\t\t\t.alert({\n\t\t\t\t\ttitle: '客服',\n\t\t\t\t\tmessage: '添加客服微信：dilidilibao'\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\t// on close\n\t\t\t\t\tthis.$copyText(this.message).then(\n\t\t\t\t\t\tres => {\n\t\t\t\t\t\t\tthis.$toast('微信号复制成功!');\n\t\t\t\t\t\t},\n\t\t\t\t\t\terr => {\n\t\t\t\t\t\t\talert('Can not copy');\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t},\n\t\tactivityRouter(url) {\n\t\t\tlocation.href = url;\n\t\t},\n\t\tsetPhone(tel) {\n\t\t\ttry {\n\t\t\t\treturn tel.replace(tel.substring(3, 7), '****');\n\t\t\t} catch (e) {\n\t\t\t\treturn '火火兔用户';\n\t\t\t\t//TODO handle the exception\n\t\t\t}\n\t\t},\n\t\tloca() {\n\t\t\tlocation.reload();\n\t\t},\n\t\tcardPayBtn() {\n\t\t\tconsole.log('调用支付===========', this.babyInfo);\n\t\t\tif (this.buyLink == null) {\n\t\t\t\tthis.$toast('请选择要开通的会员卡');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$router.push({ name: 'purchase-help', query: { url: this.buyLink } });\n\t\t},\n\t\tsetRouter(val, flag) {\n\t\t\tif (this.memberInfoVip == 0 && !flag) {\n\t\t\t\tthis.$toast('请先开通会员');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$router.push({ name: val });\n\t\t},\n\t\thelpClick(index) {\n\t\t\tthis.$router.push({ name: 'member-equity', query: { id: index } });\n\t\t},\n\t\tasync getVipAll() {\n\t\t\tconsole.log('调用接口', localStorage.getItem('user'));\n\t\t\tawait this.$store.dispatch('setUserInfoAction');\n\t\t\tawait this.$axios\n\t\t\t\t.getVipContent(1)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.audioList = res.data.data.list;\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tawait this.$axios\n\t\t\t\t.getVipActivity()\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.activityList = res.data.data.list;\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tawait this.$axios\n\t\t\t\t.getUserHelp()\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.helpList = res.data.data.list;\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tawait this.$axios\n\t\t\t\t.getMemberCard()\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.cardList = res.data.data.list;\n\t\t\t\t\tthis.buyLink = this.cardList[0].buyLink;\n\t\t\t\t\tthis.buyOneArray = this.cardList[0];\n\t\t\t\t\tthis.$store.dispatch('setEquityAction', this.buyOneArray.id);\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t\tsetTimeout(res => {\n\t\t\t\tthis.isLoading = true;\n\t\t\t}, 300);\n\t\t},\n\t\t//专属内容\n\t\tmusicDaile(url) {\n\t\t\t// if (this.memberInfoVip == 0) {\n\t\t\t// \tthis.$toast('请先开通会员');\n\t\t\t// \treturn;\n\t\t\t// }\n\t\t\ttry {\n\t\t\t\tlet data = {\n\t\t\t\t\turl: url\n\t\t\t\t};\n\t\t\t\tif (this.system == 'ios') {\n\t\t\t\t\twindow.webkit.messageHandlers.redirectToYZ.postMessage(data);\n\t\t\t\t} else {\n\t\t\t\t\twindow.android.playCourse('redirectToYZ', JSON.stringify(data));\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthis.$toast('请更新新版火火兔APP');\n\t\t\t\t//TODO handle the exception\n\t\t\t}\n\t\t},\n\t\tToText(HTML) {\n\t\t\tvar input = HTML;\n\t\t\treturn input\n\t\t\t\t.replace(/<(style|script|iframe)[^>]*?>[\\s\\S]+?<\\/\\1\\s*>/gi, '')\n\t\t\t\t.replace(/<[^>]+?>/g, '')\n\t\t\t\t.replace(/\\s+/g, ' ')\n\t\t\t\t.replace(/ /g, ' ')\n\t\t\t\t.replace(/>/g, ' ');\n\t\t}\n\t},\n\tcomponents: {},\n\twatch: {\n\t\ta(val, oldVal) {\n\t\t\t//普通的watch监听\n\t\t\tconsole.log('a:===========' + val, oldVal);\n\t\t}\n\t}\n};\n",null]}