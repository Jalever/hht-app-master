{"remainingRequest":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!/Users/wangjian/Desktop/hht/hht-app-master/src/components/Suspend.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjian/Desktop/hht/hht-app-master/src/components/Suspend.vue","mtime":1588846658831},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/.babelrc","mtime":1585901407366},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    text: {\n      type: String,\n      \"default\": '../assets/image/logo@3x.png'\n    },\n    itemWidth: {\n      type: Number,\n      \"default\": 40\n    },\n    itemHeight: {\n      type: Number,\n      \"default\": 40\n    }\n  },\n  data: function data() {\n    return {\n      left: 0,\n      top: 0,\n      startToMove: false,\n      isShow: false,\n      timer: null,\n      currentTop: null,\n      list: [],\n      clientW: document.documentElement.clientWidth,\n      //视口宽\n      clientH: document.documentElement.clientHeight //视口高\n\n    };\n  },\n  created: function created() {\n    this.getSpend();\n    this.left = this.clientW - this.itemWidth - 10;\n    this.top = this.clientH / 2 - this.itemHeight / 2 + 150;\n  },\n  mounted: function mounted() {\n    this.bindScrollEvent();\n  },\n  beforeDestroy: function beforeDestroy() {\n    // 记得销毁一些全局的的事件\n    this.removeScrollEvent();\n  },\n  methods: {\n    getSpend: function getSpend() {\n      var _this = this;\n\n      this.$axios.getSuspend().then(function (res) {\n        if (res.data.code == 1 && res.data.data.pics != '' && res.data.data.referModel == 103 && res.data.data.visibleObject == 20 && res.data.data.referValue == 1) {\n          _this.list = res.data.data;\n          _this.isShow = true;\n          console.log(\"111\");\n        } else {\n          console.log(\"222\");\n          _this.isShow = false;\n        }\n      })[\"catch\"](function (err) {});\n    },\n    suspendClcik: function suspendClcik(url) {\n      window.location.href = url;\n    },\n    handleTouchStart: function handleTouchStart() {\n      this.startToMove = true;\n      this.$refs.dragIcon.style.transition = 'none';\n    },\n    handleTouchMove: function handleTouchMove(e) {\n      var clientX = e.targetTouches[0].clientX; //手指相对视口的x\n\n      var clientY = e.targetTouches[0].clientY; //手指相对视口的y\n\n      var isInScreen = clientX <= this.clientW && clientX >= 0 && clientY <= this.clientH && clientY >= 0;\n\n      if (this.startToMove && e.targetTouches.length === 1) {\n        if (isInScreen) {\n          this.left = clientX - this.itemWidth / 2;\n          this.top = clientY - this.itemHeight / 2;\n        }\n      }\n    },\n    handleTouchEnd: function handleTouchEnd() {\n      console.log('yidong');\n\n      if (this.left < this.clientW / 2) {\n        this.left = 10; //不让贴边 所以设置30没设置0\n\n        this.handleIconY();\n      } else {\n        this.left = this.clientW - this.itemWidth - 10; //不让贴边 所以减30\n\n        this.handleIconY();\n      }\n\n      this.$refs.dragIcon.style.transition = 'all .3s';\n    },\n    handleIconY: function handleIconY() {\n      if (this.top < 0) {\n        this.top = 10; //不上帖上边所以设置为30 没设置0\n      } else if (this.top + this.itemHeight > this.clientH) {\n        this.top = this.clientH - this.itemHeight - 10; //不让帖下边所以减30\n      }\n    },\n    bindScrollEvent: function bindScrollEvent() {\n      window.addEventListener('scroll', this.handleScrollStart);\n    },\n    removeScrollEvent: function removeScrollEvent() {\n      window.removeEventListener('scroll', this.handleScrollStart);\n    },\n    handleScrollStart: function handleScrollStart() {\n      var _this2 = this;\n\n      // this.isShow = false;\n      this.timer && clearTimeout(this.timer);\n      this.timer = setTimeout(function () {\n        _this2.handleScrollEnd();\n      }, 300);\n      this.currentTop = document.documentElement.scrollTop || document.body.scrollTop;\n    },\n    handleScrollEnd: function handleScrollEnd() {\n      this.scrollTop = document.documentElement.scrollTop || document.body.scrollTop; // 判断是否停止滚动的条件\n\n      if (this.scrollTop == this.currentTop) {// this.isShow = true;\n      }\n    }\n  }\n};",{"version":3,"sources":["Suspend.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<transition>\n\t\t<div\n\t\t\tref=\"dragIcon\"\n\t\t\tclass=\"dragIcon\"\n\t\t\t@touchstart.stop=\"handleTouchStart\"\n\t\t\t@touchmove.prevent.stop=\"handleTouchMove($event)\"\n\t\t\t@touchend.stop=\"handleTouchEnd\"\n\t\t\t:style=\"{ left: left + 'px', top: top + 'px', width: itemWidth + 'px', height: itemHeight + 'px' }\"\n\t\t\tv-if=\"isShow\"\n\t\t\t@click=\"suspendClcik(list.links)\"\n\t\t>\n\t\t\t<img :src=\"list.pics\" alt=\"\" />\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tprops: {\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\tdefault: '../assets/image/logo@3x.png'\n\t\t},\n\t\titemWidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 40\n\t\t},\n\t\titemHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 40\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tstartToMove: false,\n\t\t\tisShow: false,\n\t\t\ttimer: null,\n\t\t\tcurrentTop: null,\n\t\t\tlist: [],\n\t\t\tclientW: document.documentElement.clientWidth, //视口宽\n\t\t\tclientH: document.documentElement.clientHeight //视口高\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.getSpend();\n\t\tthis.left = this.clientW - this.itemWidth - 10;\n\t\tthis.top = this.clientH / 2 - this.itemHeight / 2 + 150;\n\t},\n\tmounted() {\n\t\tthis.bindScrollEvent();\n\t},\n\tbeforeDestroy() {\n\t\t// 记得销毁一些全局的的事件\n\t\tthis.removeScrollEvent();\n\t},\n\tmethods: {\n\t\tgetSpend() {\n\t\t\tthis.$axios\n\t\t\t\t.getSuspend()\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.data.code == 1 && res.data.data.pics != '' && res.data.data.referModel == 103 &&  res.data.data.visibleObject == 20 &&  res.data.data.referValue == 1) {\n\t\t\t\t\t\tthis.list = res.data.data;\n\t\t\t\t\t\tthis.isShow = true;\n\t\t\t\t\t\tconsole.log(\"111\")\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"222\")\n\t\t\t\t\t\tthis.isShow = false;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t},\n\t\tsuspendClcik(url) {\n\t\t\twindow.location.href = url;\n\t\t},\n\t\thandleTouchStart() {\n\t\t\tthis.startToMove = true;\n\t\t\tthis.$refs.dragIcon.style.transition = 'none';\n\t\t},\n\t\thandleTouchMove(e) {\n\t\t\tconst clientX = e.targetTouches[0].clientX; //手指相对视口的x\n\t\t\tconst clientY = e.targetTouches[0].clientY; //手指相对视口的y\n\t\t\tconst isInScreen = clientX <= this.clientW && clientX >= 0 && clientY <= this.clientH && clientY >= 0;\n\t\t\tif (this.startToMove && e.targetTouches.length === 1) {\n\t\t\t\tif (isInScreen) {\n\t\t\t\t\tthis.left = clientX - this.itemWidth / 2;\n\t\t\t\t\tthis.top = clientY - this.itemHeight / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thandleTouchEnd() {\n\t\t\tconsole.log('yidong');\n\t\t\tif (this.left < this.clientW / 2) {\n\t\t\t\tthis.left = 10; //不让贴边 所以设置30没设置0\n\t\t\t\tthis.handleIconY();\n\t\t\t} else {\n\t\t\t\tthis.left = this.clientW - this.itemWidth - 10; //不让贴边 所以减30\n\t\t\t\tthis.handleIconY();\n\t\t\t}\n\t\t\tthis.$refs.dragIcon.style.transition = 'all .3s';\n\t\t},\n\t\thandleIconY() {\n\t\t\tif (this.top < 0) {\n\t\t\t\tthis.top = 10; //不上帖上边所以设置为30 没设置0\n\t\t\t} else if (this.top + this.itemHeight > this.clientH) {\n\t\t\t\tthis.top = this.clientH - this.itemHeight - 10; //不让帖下边所以减30\n\t\t\t}\n\t\t},\n\t\tbindScrollEvent() {\n\t\t\twindow.addEventListener('scroll', this.handleScrollStart);\n\t\t},\n\t\tremoveScrollEvent() {\n\t\t\twindow.removeEventListener('scroll', this.handleScrollStart);\n\t\t},\n\t\thandleScrollStart() {\n\t\t\t// this.isShow = false;\n\t\t\tthis.timer && clearTimeout(this.timer);\n\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\tthis.handleScrollEnd();\n\t\t\t}, 300);\n\t\t\tthis.currentTop = document.documentElement.scrollTop || document.body.scrollTop;\n\t\t},\n\t\thandleScrollEnd() {\n\t\t\tthis.scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n\t\t\t// 判断是否停止滚动的条件\n\t\t\tif (this.scrollTop == this.currentTop) {\n\t\t\t\t// this.isShow = true;\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.dragIcon {\n\tposition: fixed;\n\twidth: 40px;\n\theight: 40px;\n\tborder-radius: 50%;\n\ttext-align: center;\n\tcolor: #fff;\n\tbackground: #fff;\n}\n.dragIcon img {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: block;\n\tborder-radius: 50%;\n}\n.v-enter {\n\topacity: 1;\n}\n.v-leave-to {\n\topacity: 0;\n}\n.v-enter-active,\n.v-leave-active {\n\ttransition: opacity 0.3s;\n}\n</style>\n"],"sourceRoot":"src/components"}]}