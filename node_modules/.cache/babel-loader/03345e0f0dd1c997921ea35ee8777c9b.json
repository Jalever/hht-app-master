{"remainingRequest":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!/Users/wangjian/Desktop/hht/hht-app-master/src/components/Suspend.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjian/Desktop/hht/hht-app-master/src/components/Suspend.vue","mtime":1588846658831},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/.babelrc","mtime":1585901407366},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: {\n    text: {\n      type: String,\n      \"default\": '../assets/image/logo@3x.png'\n    },\n    itemWidth: {\n      type: Number,\n      \"default\": 40\n    },\n    itemHeight: {\n      type: Number,\n      \"default\": 40\n    }\n  },\n  data: function data() {\n    return {\n      left: 0,\n      top: 0,\n      startToMove: false,\n      isShow: false,\n      timer: null,\n      currentTop: null,\n      list: [],\n      clientW: document.documentElement.clientWidth,\n      //视口宽\n      clientH: document.documentElement.clientHeight //视口高\n\n    };\n  },\n  created: function created() {\n    this.getSpend();\n    this.left = this.clientW - this.itemWidth - 10;\n    this.top = this.clientH / 2 - this.itemHeight / 2 + 150;\n  },\n  mounted: function mounted() {\n    this.bindScrollEvent();\n  },\n  beforeDestroy: function beforeDestroy() {\n    // 记得销毁一些全局的的事件\n    this.removeScrollEvent();\n  },\n  methods: {\n    getSpend: function getSpend() {\n      var _this = this;\n\n      this.$axios.getSuspend().then(function (res) {\n        if (res.data.code == 1 && res.data.data.pics != '' && res.data.data.referModel == 103 && res.data.data.visibleObject == 20 && res.data.data.referValue == 1) {\n          _this.list = res.data.data;\n          _this.isShow = true;\n          console.log(\"111\");\n        } else {\n          console.log(\"222\");\n          _this.isShow = false;\n        }\n      })[\"catch\"](function (err) {});\n    },\n    suspendClcik: function suspendClcik(url) {\n      window.location.href = url;\n    },\n    handleTouchStart: function handleTouchStart() {\n      this.startToMove = true;\n      this.$refs.dragIcon.style.transition = 'none';\n    },\n    handleTouchMove: function handleTouchMove(e) {\n      var clientX = e.targetTouches[0].clientX; //手指相对视口的x\n\n      var clientY = e.targetTouches[0].clientY; //手指相对视口的y\n\n      var isInScreen = clientX <= this.clientW && clientX >= 0 && clientY <= this.clientH && clientY >= 0;\n\n      if (this.startToMove && e.targetTouches.length === 1) {\n        if (isInScreen) {\n          this.left = clientX - this.itemWidth / 2;\n          this.top = clientY - this.itemHeight / 2;\n        }\n      }\n    },\n    handleTouchEnd: function handleTouchEnd() {\n      console.log('yidong');\n\n      if (this.left < this.clientW / 2) {\n        this.left = 10; //不让贴边 所以设置30没设置0\n\n        this.handleIconY();\n      } else {\n        this.left = this.clientW - this.itemWidth - 10; //不让贴边 所以减30\n\n        this.handleIconY();\n      }\n\n      this.$refs.dragIcon.style.transition = 'all .3s';\n    },\n    handleIconY: function handleIconY() {\n      if (this.top < 0) {\n        this.top = 10; //不上帖上边所以设置为30 没设置0\n      } else if (this.top + this.itemHeight > this.clientH) {\n        this.top = this.clientH - this.itemHeight - 10; //不让帖下边所以减30\n      }\n    },\n    bindScrollEvent: function bindScrollEvent() {\n      window.addEventListener('scroll', this.handleScrollStart);\n    },\n    removeScrollEvent: function removeScrollEvent() {\n      window.removeEventListener('scroll', this.handleScrollStart);\n    },\n    handleScrollStart: function handleScrollStart() {\n      var _this2 = this;\n\n      // this.isShow = false;\n      this.timer && clearTimeout(this.timer);\n      this.timer = setTimeout(function () {\n        _this2.handleScrollEnd();\n      }, 300);\n      this.currentTop = document.documentElement.scrollTop || document.body.scrollTop;\n    },\n    handleScrollEnd: function handleScrollEnd() {\n      this.scrollTop = document.documentElement.scrollTop || document.body.scrollTop; // 判断是否停止滚动的条件\n\n      if (this.scrollTop == this.currentTop) {// this.isShow = true;\n      }\n    }\n  }\n};",null]}