{"remainingRequest":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!/Users/wangjian/Desktop/hht/hht-app-master/src/views/Home/Ranking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangjian/Desktop/hht/hht-app-master/src/views/Home/Ranking.vue","mtime":1588986811011},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/.babelrc","mtime":1585901407366},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nimport { timestampToTime } from '../../common/date.js';\nexport default {\n  data: function data() {\n    return {\n      topList: [],\n      currentTime: null,\n      currentMouth: null,\n      updateTime: 0,\n      userid: null,\n      userList: [],\n      userScore: 0\n    };\n  },\n  computed: _objectSpread({}, mapState(['userBaby'])),\n  created: function created() {\n    this.current();\n    this.getBabyRanking();\n    console.log('userBaby===', this.userBaby);\n  },\n  methods: {\n    ameSplip: function ameSplip(name) {\n      try {\n        if (name.length > 10) {\n          return name.slice(0, 10) + '...';\n        } else {\n          return name;\n        }\n      } catch (e) {\n        console.log('宝宝名称', name); //TODO handle the exception\n      }\n    },\n    getBabyRanking: function getBabyRanking() {\n      var _this = this;\n\n      var self = this;\n      this.$axios.getBabyRanking(this.currentTime).then(function (res) {\n        _this.topList = res.data.data.list;\n        var babyArray = res.data.data.list;\n        _this.updateTime = timestampToTime(res.data.data.updatetime);\n        console.log('111', _this.updateTime);\n        _this.userid = localStorage.getItem('babyId');\n        babyArray.forEach(function (value, index) {\n          if (value.babyId == self.userid) {\n            self.userList = value;\n            self.userScore = index + 1;\n          }\n        });\n      })[\"catch\"](function (err) {});\n    },\n    current: function current() {\n      var dd = new Date();\n      var y = dd.getFullYear();\n      var m = dd.getMonth() + 1; //获取当前月份的日期\n\n      var d = dd.getDate();\n      this.currentTime = y + '-' + m + '-' + d;\n      this.currentMouth = m;\n    }\n  },\n  components: {}\n};",{"version":3,"sources":["Ranking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,SAAA,QAAA,QAAA,MAAA;AACA,SAAA,eAAA,QAAA,sBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,IAFA;AAGA,MAAA,YAAA,EAAA,IAHA;AAIA,MAAA,UAAA,EAAA,CAJA;AAKA,MAAA,MAAA,EAAA,IALA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,SAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,UAAA,CAAA,CADA,CAZA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,OAAA;AACA,SAAA,cAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,aAAA,EAAA,KAAA,QAAA;AACA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,IADA,EACA;AACA,UAAA;AACA,YAAA,IAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,iBAAA,IAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAAA,IAAA,KAAA;AACA,SAFA,MAEA;AACA,iBAAA,IAAA;AACA;AACA,OANA,CAMA,OAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,IAAA,EADA,CAEA;AACA;AACA,KAZA;AAaA,IAAA,cAbA,4BAaA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA;AACA,WAAA,MAAA,CACA,cADA,CACA,KAAA,WADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,YAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,eAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,KAAA,CAAA,UAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AACA,QAAA,SAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,MAAA,IAAA,IAAA,CAAA,MAAA,EAAA;AACA,YAAA,IAAA,CAAA,QAAA,GAAA,KAAA;AACA,YAAA,IAAA,CAAA,SAAA,GAAA,KAAA,GAAA,CAAA;AACA;AACA,SALA;AAMA,OAdA,WAeA,UAAA,GAAA,EAAA,CAAA,CAfA;AAgBA,KA/BA;AAgCA,IAAA,OAhCA,qBAgCA;AACA,UAAA,EAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,CAAA,GAAA,EAAA,CAAA,WAAA,EAAA;AACA,UAAA,CAAA,GAAA,EAAA,CAAA,QAAA,KAAA,CAAA,CAHA,CAGA;;AACA,UAAA,CAAA,GAAA,EAAA,CAAA,OAAA,EAAA;AACA,WAAA,WAAA,GAAA,CAAA,GAAA,GAAA,GAAA,CAAA,GAAA,GAAA,GAAA,CAAA;AACA,WAAA,YAAA,GAAA,CAAA;AACA;AAvCA,GApBA;AA6DA,EAAA,UAAA,EAAA;AA7DA,CAAA","sourcesContent":["<template>\n\t<div class=\"app\">\n\t\t<div class=\"ranking-text\">\n\t\t\t<p>昨日成长值排行</p>\n\t\t\t<p v-if=\"updateTime != ''\">更新时间{{ updateTime }}</p>\n\t\t</div>\n\t\t<div class=\"ranking-list ranking-box\" v-if=\"topList.length != 0\">\n\t\t\t<ul>\n\t\t\t\t<li v-for=\"(item, index) in topList\" :key=\"index\">\n\t\t\t\t\t<div class=\"list-index\">\n\t\t\t\t\t\t<p v-if=\"index == 0\"><img src=\"../../assets/image/home_rank_icon1st@3x.png\" /></p>\n\t\t\t\t\t\t<p v-else-if=\"index == 1\"><img src=\"../../assets/image/home_rank_icon2nd@3x.png\" /></p>\n\t\t\t\t\t\t<p v-else-if=\"index == 2\"><img src=\"../../assets/image/home_rank_icon3rd@3x.png\" /></p>\n\t\t\t\t\t\t<p v-else>{{ index + 1 }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"list-img\">\n\t\t\t\t\t\t<img :src=\"item.image\" alt=\"\" v-if=\"item.image != ''\" />\n\t\t\t\t\t\t<img v-else-if=\"item.sex == '男'\" src=\"../../assets/image/my_avatar_boy@3x.png\" alt=\"\" />\n\t\t\t\t\t\t<img v-else src=\"../../assets/image/my_avatar_girl@3x.png\" alt=\"\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"lsit-name\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{{ ameSplip(item.userName) || '火火兔宝宝' }}\n\t\t\t\t\t\t\t<img v-if=\"item.sex == '男'\" src=\"../../assets/image/my_navbar_boy@3x.png\" alt=\"\" />\n\t\t\t\t\t\t\t<img v-else src=\"../../assets/image/my_navbar_girl@3x.png\" alt=\"\" />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"lsit-time\">\n\t\t\t\t\t\t<p>{{ item.score }}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class=\"ranking-bottom\"></div>\n\t\t</div>\n\t\t<div v-else class=\"content-null\">\n\t\t\t<p><img src=\"../../assets/image/img_servererror@3x.png\" /></p>\n\t\t</div>\n\t\t<div class=\"user-list\" v-if=\"userid != null && userid == userBaby.id\">\n\t\t\t<div class=\"ranking-list\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<div class=\"list-index\">\n\t\t\t\t\t\t\t<p>{{ userScore }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"list-img\">\n\t\t\t\t\t\t\t<img :src=\"userList.image\" alt=\"\" v-if=\"userList.image != ''\" />\n\t\t\t\t\t\t\t<img v-else-if=\"userList.sex == '男'\" src=\"../../assets/image/my_avatar_boy@3x.png\" alt=\"\" />\n\t\t\t\t\t\t\t<img v-else src=\"../../assets/image/my_avatar_girl@3x.png\" alt=\"\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"lsit-name\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{{ ameSplip(userList.userName) || '火火兔宝宝' }}\n\t\t\t\t\t\t\t\t<img v-if=\"userList.sex == 0\" src=\"../../assets/image/my_navbar_boy@3x.png\" alt=\"\" />\n\t\t\t\t\t\t\t\t<img v-else src=\"../../assets/image/my_navbar_girl@3x.png\" alt=\"\" />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"lsit-time\">\n\t\t\t\t\t\t\t<p>{{ userList.score }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { timestampToTime } from '../../common/date.js';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttopList: [],\n\t\t\tcurrentTime: null,\n\t\t\tcurrentMouth: null,\n\t\t\tupdateTime: 0,\n\t\t\tuserid: null,\n\t\t\tuserList: [],\n\t\t\tuserScore: 0\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState(['userBaby'])\n\t},\n\tcreated() {\n\t\tthis.current();\n\t\tthis.getBabyRanking();\n\t\tconsole.log('userBaby===', this.userBaby);\n\t},\n\tmethods: {\n\t\tameSplip(name) {\n\t\t\ttry {\n\t\t\t\tif (name.length > 10) {\n\t\t\t\t\treturn name.slice(0, 10) + '...';\n\t\t\t\t} else {\n\t\t\t\t\treturn name;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log('宝宝名称', name);\n\t\t\t\t//TODO handle the exception\n\t\t\t}\n\t\t},\n\t\tgetBabyRanking() {\n\t\t\tlet self = this;\n\t\t\tthis.$axios\n\t\t\t\t.getBabyRanking(this.currentTime)\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.topList = res.data.data.list;\n\t\t\t\t\tlet babyArray = res.data.data.list;\n\t\t\t\t\tthis.updateTime = timestampToTime(res.data.data.updatetime);\n\t\t\t\t\tconsole.log('111', this.updateTime);\n\t\t\t\t\tthis.userid = localStorage.getItem('babyId');\n\t\t\t\t\tbabyArray.forEach((value, index) => {\n\t\t\t\t\t\tif (value.babyId == self.userid) {\n\t\t\t\t\t\t\tself.userList = value;\n\t\t\t\t\t\t\tself.userScore = index + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(err => {});\n\t\t},\n\t\tcurrent() {\n\t\t\tvar dd = new Date();\n\t\t\tvar y = dd.getFullYear();\n\t\t\tvar m = dd.getMonth() + 1; //获取当前月份的日期\n\t\t\tvar d = dd.getDate();\n\t\t\tthis.currentTime = y + '-' + m + '-' + d;\n\t\t\tthis.currentMouth = m;\n\t\t}\n\t},\n\tcomponents: {}\n};\n</script>\n\n<style lang=\"less\" scoped>\n.ranking-bottom {\n\twidth: 100%;\n\theight: 70px;\n}\n.ranking-text {\n\twidth: 345px;\n\tmargin: 0 auto;\n\tmargin-top: 11px;\n\tmargin-bottom: 22px;\n\tdisplay: flex;\n\tposition: relative;\n\tp {\n\t\t&:nth-of-type(1) {\n\t\t\tfont-size: 12px;\n\t\t\tcolor: #ff8a66;\n\t\t}\n\t\t&:nth-of-type(2) {\n\t\t\tfont-size: 12px;\n\t\t\tcolor: rgba(0, 0, 0, 0.3);\n\t\t\tposition: absolute;\n\t\t\tright: 0;\n\t\t}\n\t}\n}\n.ranking-list {\n\twidth: 345px;\n\tmargin: 0 auto;\n\tul {\n\t\twidth: 100%;\n\t\tli {\n\t\t\tdisplay: flex;\n\t\t\theight: 40px;\n\t\t\tposition: relative;\n\t\t\tmargin: 10px 0;\n\t\t\t.list-index {\n\t\t\t\twidth: 36px;\n\t\t\t\theight: 36px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\tcolor: rgba(0, 0, 0, 0.36);\n\t\t\t\t}\n\t\t\t\timg {\n\t\t\t\t\twidth: 36px;\n\t\t\t\t\theight: 36px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.list-img {\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\timg {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.lsit-name {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding-left: 10px;\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 15px;\n\t\t\t\t\tcolor: rgba(0, 0, 0, 0.74);\n\t\t\t\t\timg {\n\t\t\t\t\t\twidth: 14px;\n\t\t\t\t\t\theight: 14px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.lsit-time {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-left: auto;\n\t\t\t\tp {\n\t\t\t\t\tfont-family: Helvetica-Bold;\n\t\t\t\t\tfont-size: 28px;\n\t\t\t\t\tcolor: #ff8a66;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n.user-list {\n\twidth: 100%;\n\tposition: fixed;\n\tbottom: 0;\n\tmargin: 0 auto;\n\tbackground: #fff;\n\ttext-align: center;\n\tbox-shadow: 0px -1px 16px 0px rgba(0, 0, 0, 0.12);\n}\n.content-null {\n\twidth: 100px;\n\theight: 100px;\n\tmargin: 0 auto;\n\timg {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n}\n</style>\n"],"sourceRoot":"src/views/Home"}]}