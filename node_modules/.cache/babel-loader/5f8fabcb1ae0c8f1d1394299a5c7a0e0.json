{"remainingRequest":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!/Users/wangjian/Desktop/hht/hht-app-master/src/api/index.js","dependencies":[{"path":"/Users/wangjian/Desktop/hht/hht-app-master/src/api/index.js","mtime":1584928065351},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/.babelrc","mtime":1585900025312},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangjian/Desktop/hht/hht-app-master/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from \"axios\";\nimport qs from \"qs\";\nimport Router from '@/router/index';\n\nvar AUTH_TOKEN = function () {\n  return localStorage.getItem(\"token\");\n}();\n\nexport function fetch(options) {\n  return new Promise(function (resolve, reject) {\n    var instance = axios.create({\n      //instance创建一个axios实例，可以自定义配置，可在 axios文档中查看详情\n      //所有的请求都会带上这些配置，比如全局都要用的身份信息等。\n      headers: {\n        \"Content-Type\": \"application/json\" // 'token':\"eyJ0eXBlIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJleHAiOjE1ODc0OTA5NTcsIm5iZiI6MTU4Mzg5MDk1N30.4uO3puLj52psZgbfTQgNPkeqzk_pn9-M2-eziyx1WhU\",//token从全局变量那里传过来\n\n      },\n      timeout: 30 * 1000 // 30秒超时\n\n    });\n    instance.defaults.headers.common[\"token\"] = AUTH_TOKEN;\n    instance.interceptors.request.use(function (config) {\n      console.log(\"AUTH_TOKEN\");\n\n      if (AUTH_TOKEN == null) {\n        var promisefresh = new Promise(function (resolve, reject) {\n          //刷新token\n          axios.get(\"http://api.cloud.alilo.com.cn/api/v4/login/get-token?appKey=hht&appSecret=hht\").then(function (response) {\n            config.headers.token = response.data.data;\n            localStorage.setItem('token', response.data.data);\n            resolve(config);\n          });\n        });\n        return promisefresh;\n      }\n\n      var url = config.url;\n\n      if (url.indexOf(\"login\") > -1) {\n        localStorage.setItem('token', \"\");\n        config.headers.token = \"\";\n      }\n\n      if (url.indexOf(\"user\") > -1 && url.indexOf(\"login\") < 0) {\n        config.headers.token = localStorage.getItem(\"token\");\n      }\n\n      return config;\n    }, function (err) {\n      return Promise.reject(err);\n    });\n    instance.interceptors.response.use(function (res) {\n      // console.log(res)\n      if (res.data.code == 2) {\n        // console.log(\"token过期了\", Router);\n        Router.push({\n          name: 'login'\n        });\n      }\n\n      return res;\n    }, function (err) {\n      return err;\n    });\n    instance(options).then(function (response) {\n      //then 请求成功之后进行什么操作\n      resolve(response); //把请求到的数据发到引用请求的地方\n    })[\"catch\"](function (error) {\n      // console.log(\"请求异常信息：\" + error);\n      reject(error);\n    });\n  });\n}\nvar cloudUrl = \"https://cloud.alilo.com.cn/baby/api/wx/\"; // const aliloUrl = \"http://api.tcloud.alilo.com.cn/api/v4/\";\n\nvar aliloUrl = \"http://hhtv3.api.zhishangsoft.com/api/v4/\"; //banner轮播图\n\nexport default {\n  /**\r\n   * 获取学习报告\r\n   */\n  getUserReport: function getUserReport() {\n    return fetch({\n      url: aliloUrl + \"course/study-report\",\n      method: \"post\",\n      params: {\n        userId: 1,\n        courseId: 1,\n        month: 11\n      }\n    });\n  },\n\n  /**\r\n   * 获取用户token\r\n   * */\n  userLogin: function userLogin() {\n    return fetch({\n      url: \"http://api.cloud.alilo.com.cn/api/v4/login/get-token\",\n      method: \"get\",\n      params: {\n        appKey: \"hht\",\n        appSecret: \"hht\"\n      }\n    });\n  },\n\n  /*\r\n   *累计学习时长\r\n   */\n  sumTime: function sumTime() {\n    return fetch({\n      url: aliloUrl + \"course/study-total-time\",\n      method: \"POST\",\n      params: {\n        userId: 1,\n        courseId: 1,\n        month: 11\n      }\n    });\n  },\n\n  /**\r\n   * 排行榜\r\n   * */\n  getBabyRanking: function getBabyRanking() {\n    return fetch({\n      url: aliloUrl + \"course/get-top\",\n      method: \"POST\",\n      params: {\n        userId: 1,\n        courseId: 1,\n        currentDate: \"2020-03-13\",\n        pageNo: 1,\n        pageSize: 10\n      }\n    });\n  },\n\n  /**\r\n   * 会员专属内容\r\n   * */\n  getVipContent: function getVipContent() {\n    return fetch({\n      url: aliloUrl + \"audio-group/search-vip\",\n      method: \"POST\",\n      params: {\n        channelId: 65,\n        pageNo: 1,\n        pageSize: 10\n      }\n    });\n  },\n\n  /**\r\n   * 会员专属活动\r\n   * */\n  getVipActivity: function getVipActivity() {\n    return fetch({\n      url: aliloUrl + \"vip-activity/search\",\n      method: \"POST\",\n      params: {\n        channelId: 65,\n        pageNo: 1,\n        pageSize: 10\n      }\n    });\n  },\n\n  /**\r\n   * 会员卡激活\r\n   * */\n  setVipClubCard: function setVipClubCard(code) {\n    return fetch({\n      url: aliloUrl + \"activation-code/activate\",\n      method: \"POST\",\n      params: {\n        activationCode: code,\n        userId: 1,\n        channelId: 65,\n        devid: 111\n      }\n    });\n  },\n\n  /**\r\n   * 会员用户信息\r\n   * */\n  getUserInfo: function getUserInfo() {\n    return fetch({\n      url: aliloUrl + \"member-card/get\",\n      method: \"POST\",\n      params: {\n        userId: 1,\n        channelId: 65\n      }\n    });\n  },\n\n  /**\r\n   * 会员帮助\r\n   * */\n  getUserHelp: function getUserHelp() {\n    return fetch({\n      url: aliloUrl + \"member-help/search\",\n      method: \"POST\",\n      params: {\n        channelId: 65,\n        pageNo: 1,\n        pageSize: 10\n      }\n    });\n  },\n\n  /**\r\n   * 权益介绍\r\n   */\n  getVipEquity: function getVipEquity() {\n    return fetch({\n      url: aliloUrl + \"member-rights/search\",\n      method: \"POST\",\n      params: {\n        channelId: 65,\n        pageNo: 1,\n        pageSize: 10\n      }\n    });\n  },\n\n  /**\r\n   * 获取宝宝打卡信息\r\n   * */\n  getBabyClock: function getBabyClock() {\n    return fetch({\n      url: aliloUrl + \"course/punch-in-list\",\n      method: \"POST\",\n      params: {\n        userId: 1,\n        courseId: 65,\n        month: 11\n      }\n    });\n  },\n\n  /*\r\n   * 每日课程\r\n   * */\n  getDayCourse: function getDayCourse() {\n    return fetch({\n      url: aliloUrl + \"course/today-course-data\",\n      method: \"POST\",\n      params: {\n        userId: 1,\n        courseId: 65,\n        currentDate: '2020-03-22'\n      }\n    });\n  },\n\n  /**\r\n   * 课程关键字\r\n   */\n  getDayKey: function getDayKey() {\n    return fetch({\n      url: aliloUrl + \"course/today-key\",\n      method: \"POST\",\n      params: {\n        userId: 1,\n        courseId: 65,\n        currentDate: '2020-03-22'\n      }\n    });\n  },\n\n  /**\r\n   * 宝宝关键期\r\n   */\n  getBabyPeriod: function getBabyPeriod() {\n    return fetch({\n      url: aliloUrl + \"course/get-critical-period\",\n      method: \"POST\",\n      params: {\n        userId: 1\n      }\n    });\n  },\n  getMemberCard: function getMemberCard() {\n    return fetch({\n      url: aliloUrl + \"member-card/search\",\n      method: \"POST\",\n      params: {\n        channelId: 65,\n        pageNo: 1,\n        pageSize: 10\n      }\n    });\n  }\n};",{"version":3,"sources":["/Users/wangjian/Desktop/hht/hht-app-master/src/api/index.js"],"names":["axios","qs","Router","AUTH_TOKEN","localStorage","getItem","fetch","options","Promise","resolve","reject","instance","create","headers","timeout","defaults","common","interceptors","request","use","config","console","log","promisefresh","get","then","response","token","data","setItem","url","indexOf","err","res","code","push","name","error","cloudUrl","aliloUrl","getUserReport","method","params","userId","courseId","month","userLogin","appKey","appSecret","sumTime","getBabyRanking","currentDate","pageNo","pageSize","getVipContent","channelId","getVipActivity","setVipClubCard","activationCode","devid","getUserInfo","getUserHelp","getVipEquity","getBabyClock","getDayCourse","getDayKey","getBabyPeriod","getMemberCard"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport qs from \"qs\";\r\nimport Router from '@/router/index'\r\nlet AUTH_TOKEN = (function() {\r\n\treturn localStorage.getItem(\"token\");\r\n})();\r\nexport function fetch(options) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst instance = axios.create({\r\n\t\t\t//instance创建一个axios实例，可以自定义配置，可在 axios文档中查看详情\r\n\t\t\t//所有的请求都会带上这些配置，比如全局都要用的身份信息等。\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t// 'token':\"eyJ0eXBlIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJleHAiOjE1ODc0OTA5NTcsIm5iZiI6MTU4Mzg5MDk1N30.4uO3puLj52psZgbfTQgNPkeqzk_pn9-M2-eziyx1WhU\",//token从全局变量那里传过来\r\n\t\t\t},\r\n\t\t\ttimeout: 30 * 1000 // 30秒超时\r\n\t\t});\r\n\t\tinstance.defaults.headers.common[\"token\"] = AUTH_TOKEN;\r\n\t\tinstance.interceptors.request.use(function(config) {\n\t\t\tconsole.log(\"AUTH_TOKEN\")\r\n\t\t\tif (AUTH_TOKEN == null) {\r\n\t\t\t\tlet promisefresh = new Promise(function(resolve, reject) {\r\n\t\t\t\t\t//刷新token\r\n\t\t\t\t\taxios.get(\"http://api.cloud.alilo.com.cn/api/v4/login/get-token?appKey=hht&appSecret=hht\").then(response => {\r\n\t\t\t\t\t\tconfig.headers.token = response.data.data;\r\n\t\t\t\t\t\tlocalStorage.setItem('token', response.data.data);\r\n\t\t\t\t\t\tresolve(config);\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\treturn promisefresh;\r\n\t\t\t}\r\n\t\t\tlet url = config.url;\r\n\t\t\tif (url.indexOf(\"login\") > -1) {\r\n\t\t\t\tlocalStorage.setItem('token', \"\");\r\n\t\t\t\tconfig.headers.token = \"\";\r\n\t\t\t}\r\n\t\t\tif (url.indexOf(\"user\") > -1 && url.indexOf(\"login\") < 0) {\r\n\t\t\t\tconfig.headers.token = localStorage.getItem(\"token\");\r\n\t\t\t}\r\n\t\t\treturn config;\r\n\t\t}, function(err) {\r\n\t\t\treturn Promise.reject(err);\r\n\t\t});\r\n\t\tinstance.interceptors.response.use(function(res) {\r\n\t\t\t// console.log(res)\r\n\t\t\tif (res.data.code == 2) {\r\n\t\t\t\t// console.log(\"token过期了\", Router);\r\n\t\t\t\tRouter.push({\r\n\t\t\t\t\tname: 'login'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t}, function(err) {\r\n\t\t\treturn err;\r\n\t\t});\r\n\t\tinstance(options)\r\n\t\t\t.then(response => {\r\n\t\t\t\t//then 请求成功之后进行什么操作\r\n\t\t\t\tresolve(response); //把请求到的数据发到引用请求的地方\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\t// console.log(\"请求异常信息：\" + error);\r\n\t\t\t\treject(error);\r\n\t\t\t});\r\n\t});\r\n}\r\nconst cloudUrl = \"https://cloud.alilo.com.cn/baby/api/wx/\";\r\n// const aliloUrl = \"http://api.tcloud.alilo.com.cn/api/v4/\";\nconst aliloUrl =\"http://hhtv3.api.zhishangsoft.com/api/v4/\"\r\n//banner轮播图\r\nexport default {\r\n\t/**\r\n\t * 获取学习报告\r\n\t */\r\n\tgetUserReport() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"course/study-report\",\r\n\t\t\tmethod: \"post\",\r\n\t\t\tparams: {\r\n\t\t\t\tuserId: 1,\r\n\t\t\t\tcourseId: 1,\r\n\t\t\t\tmonth: 11\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 获取用户token\r\n\t * */\r\n\tuserLogin() {\r\n\t\treturn fetch({\r\n\t\t\turl: \"http://api.cloud.alilo.com.cn/api/v4/login/get-token\",\r\n\t\t\tmethod: \"get\",\r\n\t\t\tparams: {\r\n\t\t\t\tappKey: \"hht\",\r\n\t\t\t\tappSecret: \"hht\"\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/*\r\n\t *累计学习时长\r\n\t */\r\n\tsumTime() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"course/study-total-time\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tuserId: 1,\r\n\t\t\t\tcourseId: 1,\r\n\t\t\t\tmonth: 11\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 排行榜\r\n\t * */\r\n\tgetBabyRanking() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"course/get-top\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tuserId: 1,\r\n\t\t\t\tcourseId: 1,\r\n\t\t\t\tcurrentDate: \"2020-03-13\",\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tpageSize: 10\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 会员专属内容\r\n\t * */\r\n\tgetVipContent() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"audio-group/search-vip\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tchannelId: 65,\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tpageSize: 10\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 会员专属活动\r\n\t * */\r\n\tgetVipActivity() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"vip-activity/search\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tchannelId: 65,\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tpageSize: 10\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 会员卡激活\r\n\t * */\r\n\tsetVipClubCard(code) {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"activation-code/activate\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tactivationCode: code,\r\n\t\t\t\tuserId: 1,\r\n\t\t\t\tchannelId: 65,\r\n\t\t\t\tdevid: 111\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 会员用户信息\r\n\t * */\r\n\tgetUserInfo() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"member-card/get\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tuserId: 1,\r\n\t\t\t\tchannelId: 65\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 会员帮助\r\n\t * */\r\n\tgetUserHelp() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"member-help/search\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tchannelId: 65,\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tpageSize: 10\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 权益介绍\r\n\t */\r\n\tgetVipEquity() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"member-rights/search\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tchannelId: 65,\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tpageSize: 10\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 获取宝宝打卡信息\r\n\t * */\r\n\tgetBabyClock() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"course/punch-in-list\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tuserId: 1,\r\n\t\t\t\tcourseId: 65,\r\n\t\t\t\tmonth: 11\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/*\r\n\t * 每日课程\r\n\t * */\r\n\tgetDayCourse() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"course/today-course-data\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tuserId: 1,\r\n\t\t\t\tcourseId: 65,\r\n\t\t\t\tcurrentDate: '2020-03-22'\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 课程关键字\r\n\t */\r\n\tgetDayKey() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"course/today-key\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tuserId: 1,\r\n\t\t\t\tcourseId: 65,\r\n\t\t\t\tcurrentDate: '2020-03-22'\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t/**\r\n\t * 宝宝关键期\r\n\t */\r\n\tgetBabyPeriod() {\r\n\t\treturn fetch({\r\n\t\t\turl: aliloUrl + \"course/get-critical-period\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tparams: {\r\n\t\t\t\tuserId: 1\r\n\t\t\t}\r\n\t\t});\r\n\t},\n\tgetMemberCard(){\n\t\treturn fetch({\n\t\t\turl: aliloUrl + \"member-card/search\",\n\t\t\tmethod: \"POST\",\n\t\t\tparams: {\n\t\t\t\tchannelId: 65,\n\t\t\t\tpageNo: 1,\n\t\t\t\tpageSize: 10\n\t\t\t}\n\t\t});\n\t}\r\n};\n"]}]}